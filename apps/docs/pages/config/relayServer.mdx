# How to use the universal-fs relay server API

## Obtaining the url and token

### In the browser

Get two cookies one named `universal-fs-url`, and the other `universal-fs-token`.

### In Node

Read two files `.fs/url.txt` and `.fs/token.txt`

_Tip: to get the url and the token you can use the internal helpers [`getToken()`](https://github.com/eTech-Source/universal-fs/tree/canary/packages/universal-fs/helpers/getToken.ts) and [`getUrl()`](https://github.com/eTech-Source/universal-fs/tree/canary/packages/universal-fs/helpers/getUrl.ts)_

## Making requests

Send an a fetch request to the following the url fetched.

```ts
await fetch(`${await getUrl()}/path/to/the/file?method=readFile`, {
  method: "GET",
  headers: {
    Authorization: `Bearer ${getToken}`
  }
});
```

The method param correspondents to the type of operation. For example mkdir is a POST.
