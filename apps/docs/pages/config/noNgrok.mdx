import Canary from "../../components/Canary";

# Usage without Ngrok <Canary />

To disable Ngrok simply pass `false` to `withPortForwarding` in the `Server` class.

```ts
const server = new Server({withPortForwarding: false})
```

# Usage without Ngrok

**Note:** This is now deprecated in <Canary /> versions and may be removed soon.

As of universal-fs v1.1.0 you can use your own server with your own custom url for universal-fs with all the same benefits.

First create a function with the following type:

```ts
(app: Express, server?: http.Server) => Promise<string> | string;
```

You won't actually end up calling this function but universal-fs will. Here is an example of what this function could look like:

```ts
const startServer = (app: Express): string => {
  app.listen(3001, () => {
    console.log("listening on port 3001");
  });
```

This will tell universal-fs to listen on port 3001.

Now pass this function into the `server.init()` call:

```ts
const server = new Server({startServer});

await server.init();
```

Overall your total code should be:

```ts
const startServer = (app: Express): string => {
  app.listen(3001, () => {
    console.log("listening on port 3001");
  });

  return "http://localhost:3001";
};

const server = new Server({startServer});

await server.init();
```

Please note that your function MUST return the url the server is on whether that be remote or local.
